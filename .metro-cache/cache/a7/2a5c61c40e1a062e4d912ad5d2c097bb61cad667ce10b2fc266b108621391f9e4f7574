{"dependencies":[{"name":"./constants","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":38,"index":38}}],"key":"waDaw5D7vDr2hRFu0z1BqRCTzP4=","exportNames":["*"],"imports":1}},{"name":"../utilities/logger","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":39},"end":{"line":2,"column":44,"index":83}}],"key":"9pfJmT1iyRGKHa3b5FHJaETbUVI=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"reducer\", {\n    enumerable: true,\n    get: function () {\n      return reducer;\n    }\n  });\n  var _constants = require(_dependencyMap[0], \"./constants\");\n  var _utilitiesLogger = require(_dependencyMap[1], \"../utilities/logger\");\n  var registerHost = (state, hostName) => {\n    if (!(hostName in state)) {\n      state[hostName] = [];\n    }\n    return state;\n  };\n  var deregisterHost = (state, hostName) => {\n    delete state[hostName];\n    return state;\n  };\n  var addUpdatePortal = (state, hostName, portalName, node) => {\n    if (!(hostName in state)) {\n      state = registerHost(state, hostName);\n    }\n\n    /**\n     * updated portal, if it was already added.\n     */\n    var index = state[hostName].findIndex(item => item.name === portalName);\n    if (index !== -1) {\n      state[hostName][index].node = node;\n    } else {\n      state[hostName].push({\n        name: portalName,\n        node\n      });\n    }\n    return state;\n  };\n  var removePortal = (state, hostName, portalName) => {\n    if (!(hostName in state)) {\n      (0, _utilitiesLogger.print)({\n        component: reducer.name,\n        method: removePortal.name,\n        params: `Failed to remove portal '${portalName}', '${hostName}' was not registered!`\n      });\n      return state;\n    }\n    var index = state[hostName].findIndex(item => item.name === portalName);\n    if (index !== -1) state[hostName].splice(index, 1);\n    return state;\n  };\n  var reducer = (state, action) => {\n    var type = action.type;\n    var clonedState = {\n      ...state\n    };\n    switch (type) {\n      case _constants.ACTIONS.REGISTER_HOST:\n        return registerHost(clonedState, action.hostName);\n      case _constants.ACTIONS.DEREGISTER_HOST:\n        return deregisterHost(clonedState, action.hostName);\n      case _constants.ACTIONS.ADD_UPDATE_PORTAL:\n        return addUpdatePortal(clonedState, action.hostName, action.portalName, action.node);\n      case _constants.ACTIONS.REMOVE_PORTAL:\n        return removePortal(clonedState, action.hostName, action.portalName);\n      default:\n        return state;\n    }\n  };\n});","lineCount":75,"map":[[7,2,72,0,"Object"],[7,8,72,0],[7,9,72,0,"defineProperty"],[7,23,72,0],[7,24,72,0,"exports"],[7,31,72,0],[8,4,72,0,"enumerable"],[8,14,72,0],[9,4,72,0,"get"],[9,7,72,0],[9,18,72,0,"get"],[9,19,72,0],[10,6,72,0],[10,13,72,0,"reducer"],[10,20,72,0],[11,4,72,0],[12,2,72,0],[13,2,1,0],[13,6,1,0,"_constants"],[13,16,1,0],[13,19,1,0,"require"],[13,26,1,0],[13,27,1,0,"_dependencyMap"],[13,41,1,0],[14,2,2,0],[14,6,2,0,"_utilitiesLogger"],[14,22,2,0],[14,25,2,0,"require"],[14,32,2,0],[14,33,2,0,"_dependencyMap"],[14,47,2,0],[15,2,10,0],[15,6,10,6,"registerHost"],[15,18,10,18],[15,21,10,21,"registerHost"],[15,22,11,2,"state"],[15,27,11,42],[15,29,12,2,"hostName"],[15,37,12,18],[15,42,13,5],[16,4,14,2],[16,8,14,6],[16,10,14,8,"hostName"],[16,18,14,16],[16,22,14,20,"state"],[16,27,14,25],[16,28,14,26],[16,30,14,28],[17,6,15,4,"state"],[17,11,15,9],[17,12,15,10,"hostName"],[17,20,15,18],[17,21,15,19],[17,24,15,22],[17,26,15,24],[18,4,16,2],[19,4,17,2],[19,11,17,9,"state"],[19,16,17,14],[20,2,18,0],[20,3,18,1],[21,2,20,0],[21,6,20,6,"deregisterHost"],[21,20,20,20],[21,23,20,23,"deregisterHost"],[21,24,21,2,"state"],[21,29,21,42],[21,31,22,2,"hostName"],[21,39,22,18],[21,44,23,5],[22,4,24,2],[22,11,24,9,"state"],[22,16,24,14],[22,17,24,15,"hostName"],[22,25,24,23],[22,26,24,24],[23,4,25,2],[23,11,25,9,"state"],[23,16,25,14],[24,2,26,0],[24,3,26,1],[25,2,28,0],[25,6,28,6,"addUpdatePortal"],[25,21,28,21],[25,24,28,24,"addUpdatePortal"],[25,25,29,2,"state"],[25,30,29,42],[25,32,30,2,"hostName"],[25,40,30,18],[25,42,31,2,"portalName"],[25,52,31,20],[25,54,32,2,"node"],[25,58,32,11],[25,63,33,5],[26,4,34,2],[26,8,34,6],[26,10,34,8,"hostName"],[26,18,34,16],[26,22,34,20,"state"],[26,27,34,25],[26,28,34,26],[26,30,34,28],[27,6,35,4,"state"],[27,11,35,9],[27,14,35,12,"registerHost"],[27,26,35,24],[27,27,35,25,"state"],[27,32,35,30],[27,34,35,32,"hostName"],[27,42,35,40],[27,43,35,41],[28,4,36,2],[30,4,38,2],[31,0,39,0],[32,0,40,0],[33,4,41,2],[33,8,41,8,"index"],[33,13,41,13],[33,16,41,16,"state"],[33,21,41,21],[33,22,41,22,"hostName"],[33,30,41,30],[33,31,41,31],[33,32,41,32,"findIndex"],[33,41,41,41],[33,42,41,42,"item"],[33,46,41,46],[33,50,41,50,"item"],[33,54,41,54],[33,55,41,55,"name"],[33,59,41,59],[33,64,41,64,"portalName"],[33,74,41,74],[33,75,41,75],[34,4,42,2],[34,8,42,6,"index"],[34,13,42,11],[34,18,42,16],[34,19,42,17],[34,20,42,18],[34,22,42,20],[35,6,43,4,"state"],[35,11,43,9],[35,12,43,10,"hostName"],[35,20,43,18],[35,21,43,19],[35,22,43,20,"index"],[35,27,43,25],[35,28,43,26],[35,29,43,27,"node"],[35,33,43,31],[35,36,43,34,"node"],[35,40,43,38],[36,4,44,2],[36,5,44,3],[36,11,44,9],[37,6,45,4,"state"],[37,11,45,9],[37,12,45,10,"hostName"],[37,20,45,18],[37,21,45,19],[37,22,45,20,"push"],[37,26,45,24],[37,27,45,25],[38,8,46,6,"name"],[38,12,46,10],[38,14,46,12,"portalName"],[38,24,46,22],[39,8,47,6,"node"],[40,6,48,4],[40,7,48,5],[40,8,48,6],[41,4,49,2],[42,4,50,2],[42,11,50,9,"state"],[42,16,50,14],[43,2,51,0],[43,3,51,1],[44,2,53,0],[44,6,53,6,"removePortal"],[44,18,53,18],[44,21,53,21,"removePortal"],[44,22,54,2,"state"],[44,27,54,42],[44,29,55,2,"hostName"],[44,37,55,18],[44,39,56,2,"portalName"],[44,49,56,20],[44,54,57,5],[45,4,58,2],[45,8,58,6],[45,10,58,8,"hostName"],[45,18,58,16],[45,22,58,20,"state"],[45,27,58,25],[45,28,58,26],[45,30,58,28],[46,6,59,4],[46,10,59,4,"print"],[46,26,59,9],[46,27,59,9,"print"],[46,32,59,9],[46,34,59,10],[47,8,60,6,"component"],[47,17,60,15],[47,19,60,17,"reducer"],[47,26,60,24],[47,27,60,25,"name"],[47,31,60,29],[48,8,61,6,"method"],[48,14,61,12],[48,16,61,14,"removePortal"],[48,28,61,26],[48,29,61,27,"name"],[48,33,61,31],[49,8,62,6,"params"],[49,14,62,12],[49,16,62,14],[49,44,62,42,"portalName"],[49,54,62,52],[49,61,62,59,"hostName"],[49,69,62,67],[50,6,63,4],[50,7,63,5],[50,8,63,6],[51,6,64,4],[51,13,64,11,"state"],[51,18,64,16],[52,4,65,2],[53,4,67,2],[53,8,67,8,"index"],[53,13,67,13],[53,16,67,16,"state"],[53,21,67,21],[53,22,67,22,"hostName"],[53,30,67,30],[53,31,67,31],[53,32,67,32,"findIndex"],[53,41,67,41],[53,42,67,42,"item"],[53,46,67,46],[53,50,67,50,"item"],[53,54,67,54],[53,55,67,55,"name"],[53,59,67,59],[53,64,67,64,"portalName"],[53,74,67,74],[53,75,67,75],[54,4,68,2],[54,8,68,6,"index"],[54,13,68,11],[54,18,68,16],[54,19,68,17],[54,20,68,18],[54,22,68,20,"state"],[54,27,68,25],[54,28,68,26,"hostName"],[54,36,68,34],[54,37,68,35],[54,38,68,36,"splice"],[54,44,68,42],[54,45,68,43,"index"],[54,50,68,48],[54,52,68,50],[54,53,68,51],[54,54,68,52],[55,4,69,2],[55,11,69,9,"state"],[55,16,69,14],[56,2,70,0],[56,3,70,1],[57,2,72,7],[57,6,72,13,"reducer"],[57,13,72,20],[57,16,72,23,"reducer"],[57,17,73,2,"state"],[57,22,73,42],[57,24,74,2,"action"],[57,30,74,21],[57,35,75,5],[58,4,76,2],[58,8,76,10,"type"],[58,12,76,14],[58,15,76,19,"action"],[58,21,76,25],[58,22,76,10,"type"],[58,26,76,14],[59,4,77,2],[59,8,77,6,"clonedState"],[59,19,77,17],[59,22,77,20],[60,6,77,22],[60,9,77,25,"state"],[61,4,77,31],[61,5,77,32],[62,4,78,2],[62,12,78,10,"type"],[62,16,78,14],[63,6,79,4],[63,11,79,9,"ACTIONS"],[63,21,79,16],[63,22,79,16,"ACTIONS"],[63,29,79,16],[63,30,79,17,"REGISTER_HOST"],[63,43,79,30],[64,8,80,6],[64,15,80,13,"registerHost"],[64,27,80,25],[64,28,80,26,"clonedState"],[64,39,80,37],[64,41,80,39,"action"],[64,47,80,45],[64,48,80,46,"hostName"],[64,56,80,54],[64,57,80,55],[65,6,81,4],[65,11,81,9,"ACTIONS"],[65,21,81,16],[65,22,81,16,"ACTIONS"],[65,29,81,16],[65,30,81,17,"DEREGISTER_HOST"],[65,45,81,32],[66,8,82,6],[66,15,82,13,"deregisterHost"],[66,29,82,27],[66,30,82,28,"clonedState"],[66,41,82,39],[66,43,82,41,"action"],[66,49,82,47],[66,50,82,48,"hostName"],[66,58,82,56],[66,59,82,57],[67,6,83,4],[67,11,83,9,"ACTIONS"],[67,21,83,16],[67,22,83,16,"ACTIONS"],[67,29,83,16],[67,30,83,17,"ADD_UPDATE_PORTAL"],[67,47,83,34],[68,8,84,6],[68,15,84,13,"addUpdatePortal"],[68,30,84,28],[68,31,85,8,"clonedState"],[68,42,85,19],[68,44,86,8,"action"],[68,50,86,14],[68,51,86,15,"hostName"],[68,59,86,23],[68,61,87,9,"action"],[68,67,87,15],[68,68,87,42,"portalName"],[68,78,87,52],[68,80,88,9,"action"],[68,86,88,15],[68,87,88,42,"node"],[68,91,89,6],[68,92,89,7],[69,6,90,4],[69,11,90,9,"ACTIONS"],[69,21,90,16],[69,22,90,16,"ACTIONS"],[69,29,90,16],[69,30,90,17,"REMOVE_PORTAL"],[69,43,90,30],[70,8,91,6],[70,15,91,13,"removePortal"],[70,27,91,25],[70,28,92,8,"clonedState"],[70,39,92,19],[70,41,93,8,"action"],[70,47,93,14],[70,48,93,15,"hostName"],[70,56,93,23],[70,58,94,9,"action"],[70,64,94,15],[70,65,94,39,"portalName"],[70,75,95,6],[70,76,95,7],[71,6,96,4],[72,8,97,6],[72,15,97,13,"state"],[72,20,97,18],[73,4,98,2],[74,2,99,0],[74,3,99,1],[75,0,99,2],[75,3]],"functionMap":{"names":["<global>","registerHost","deregisterHost","addUpdatePortal","state.hostName.findIndex$argument_0","removePortal","reducer"],"mappings":"AAA;qBCS;CDQ;uBEE;CFM;wBGE;0CCa,gCD;CHU;qBKE;0CDc,gCC;CLG;uBME;CN2B"},"hasCjsExports":false},"type":"js/module"}]}